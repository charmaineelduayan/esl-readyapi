<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="79345171-385e-4fe6-a523-61f27ceddad5" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="createBooking-multiple CC_fullpay" searchProperties="true" timeout="0" maxResults="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="5ac6c3fa-8283-4f51-88ed-489381f5ad22fileName">CreateBooking_with-multiple-CC</con:setting>
    <con:setting id="4952c7f4-b2de-4662-98da-6c25417ff43ffileName">createBooking_with-multiple-CC_fullpay</con:setting>
    <con:setting id="79345171-385e-4fe6-a523-61f27ceddad5fileName">createBooking-multiple-CC_fullpay</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="properties" name="Properties_Booking" id="1d514cf2-add1-48ec-998b-7be37fffa873">
    <con:settings/>
    <con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:properties>
        <con:property>
          <con:name>bookingAccessToken</con:name>
          <con:value xsi:nil="true"/>
        </con:property>
        <con:property>
          <con:name>bookingId</con:name>
          <con:value>1388791</con:value>
        </con:property>
        <con:property>
          <con:name>AccessTokenFromRetrieve</con:name>
          <con:value>0d4351be-d46d-4eca-b8cf-22dc7299e837</con:value>
        </con:property>
        <con:property>
          <con:name>grossAmount</con:name>
          <con:value>2837.75</con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="DataSource" id="94aa75e2-24a2-48be-bd5e-2a7c17369b31">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Excel">
        <con:configuration>
          <file>Booking_REST_Input.xls</file>
          <worksheet>CreateBooking</worksheet>
          <cell>A1</cell>
          <ignoreEmpty>false</ignoreEmpty>
          <evaluateFormulas>false</evaluateFormulas>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>S.No</con:property>
      <con:property>ServiceName</con:property>
      <con:property>Operation Name</con:property>
      <con:property>ExecutionFlag</con:property>
      <con:property>TestCaseName</con:property>
      <con:property>TestCaseDescription</con:property>
      <con:property>application</con:property>
      <con:property>brand</con:property>
      <con:property>domainID</con:property>
      <con:property>language</con:property>
      <con:property>uuid</con:property>
      <con:property>countryCode</con:property>
      <con:property>agencyId</con:property>
      <con:property>bookingAccessToken</con:property>
      <con:property>profileId</con:property>
      <con:property>shipCode</con:property>
      <con:property>sailDate</con:property>
      <con:property>packageCode</con:property>
      <con:property>currencyCode</con:property>
      <con:property>vendorCode</con:property>
      <con:property>berthedCategoryCode</con:property>
      <con:property>fareCode</con:property>
      <con:property>pricedCategoryCode</con:property>
      <con:property>waitListed</con:property>
      <con:property>accessible</con:property>
      <con:property>number</con:property>
      <con:property>bedConfigCode</con:property>
      <con:property>sitting</con:property>
      <con:property>sittingType</con:property>
      <con:property>sittingInstance</con:property>
      <con:property>dine waitListed</con:property>
      <con:property>familyTime</con:property>
      <con:property>crossRefAllowed</con:property>
      <con:property>dine language</con:property>
      <con:property>smokingCode</con:property>
      <con:property>tableSize</con:property>
      <con:property>gratuitiesPrepaid</con:property>
      <con:property>code</con:property>
      <con:property>optionIndicator</con:property>
      <con:property>defaultIndicator</con:property>
      <con:property>status</con:property>
      <con:property>offers</con:property>
      <con:property>seniorReqd</con:property>
      <con:property>militaryReqd</con:property>
      <con:property>policeReqd</con:property>
      <con:property>fireFighterReqd</con:property>
      <con:property>guestRefNumber</con:property>
      <con:property>title</con:property>
      <con:property>firstName</con:property>
      <con:property>lastName</con:property>
      <con:property>middleName</con:property>
      <con:property>nameSuffix</con:property>
      <con:property>age</con:property>
      <con:property>birthDate</con:property>
      <con:property>gender</con:property>
      <con:property>title2</con:property>
      <con:property>firstName2</con:property>
      <con:property>lastName2</con:property>
      <con:property>middleName2</con:property>
      <con:property>nameSuffix2</con:property>
      <con:property>age2</con:property>
      <con:property>birthDate2</con:property>
      <con:property>gender2</con:property>
      <con:property>nationality</con:property>
      <con:property>id</con:property>
      <con:property>telephoneNumber</con:property>
      <con:property>telephoneCountryCode</con:property>
      <con:property>telephoneType</con:property>
      <con:property>add id</con:property>
      <con:property>type</con:property>
      <con:property>address1</con:property>
      <con:property>address2</con:property>
      <con:property>address3</con:property>
      <con:property>address4</con:property>
      <con:property>apartment</con:property>
      <con:property>city</con:property>
      <con:property>stateCode</con:property>
      <con:property>postalCode</con:property>
      <con:property>add countryCode</con:property>
      <con:property>countryName</con:property>
      <con:property>mailingAddress</con:property>
      <con:property>email</con:property>
      <con:property>email2</con:property>
      <con:property>deliveryMethod</con:property>
      <con:property>cruise language</con:property>
      <con:property>airportCityCode</con:property>
      <con:property>airportCityName</con:property>
      <con:property>trans status</con:property>
      <con:property>loyaltyId</con:property>
      <con:property>special code</con:property>
      <con:property>description</con:property>
      <con:property>date</con:property>
      <con:property>nbrOfYears</con:property>
      <con:property>sel code</con:property>
      <con:property>message</con:property>
      <con:property>selectedOptionsIndicator</con:property>
      <con:property>autoAddedIndicator</con:property>
      <con:property>mandatoryIndicator</con:property>
      <con:property>cardType</con:property>
      <con:property>cardToken</con:property>
      <con:property>cardType2</con:property>
      <con:property>cardToken2</con:property>
      <con:property>expireDate</con:property>
      <con:property>expireDate2</con:property>
      <con:property>amount</con:property>
      <con:property>amount2</con:property>
      <con:property>currency</con:property>
      <con:property>currency2</con:property>
      <con:property>extendPayments</con:property>
      <con:property>card firstName</con:property>
      <con:property>card lastName</con:property>
      <con:property>card id</con:property>
      <con:property>card type</con:property>
      <con:property>card address1</con:property>
      <con:property>card address2</con:property>
      <con:property>card address3</con:property>
      <con:property>card address4</con:property>
      <con:property>card apartment</con:property>
      <con:property>card city</con:property>
      <con:property>card stateCode</con:property>
      <con:property>card postalCode</con:property>
      <con:property>card countryCode</con:property>
      <con:property>card countryName</con:property>
      <con:property>card mailingAddress</con:property>
      <con:property>cvv</con:property>
      <con:property>payeeId</con:property>
      <con:property>downPaymentPct</con:property>
      <con:property>downPaymentAmt</con:property>
      <con:property>nbrOfPayments</con:property>
      <con:property>card cardType</con:property>
      <con:property>card cardToken</con:property>
      <con:property>card expireDate</con:property>
      <con:property>card amount</con:property>
      <con:property>card currency</con:property>
      <con:property>card extendPayments</con:property>
      <con:property>con firstName</con:property>
      <con:property>con lastName</con:property>
      <con:property>con id</con:property>
      <con:property>con type</con:property>
      <con:property>con address1</con:property>
      <con:property>con address2</con:property>
      <con:property>con address3</con:property>
      <con:property>con address4</con:property>
      <con:property>con apartment</con:property>
      <con:property>con city</con:property>
      <con:property>con stateCode</con:property>
      <con:property>con postalCode</con:property>
      <con:property>con countryCode</con:property>
      <con:property>con countryName</con:property>
      <con:property>con mailingAddress</con:property>
      <con:property>inst cvv</con:property>
      <con:property>inst payeeId</con:property>
      <con:property>bookingType</con:property>
      <con:property>bookingId</con:property>
      <con:property>courtesyHold</con:property>
      <con:property>Orchestration_application</con:property>
      <con:property>Orchestration_brand</con:property>
      <con:property>Orchestration_office</con:property>
      <con:property>Orchestration_countryCode</con:property>
      <con:property>Orchestration_currencyCode</con:property>
      <con:property>Orchestration_channel</con:property>
      <con:property>Orchestration_bookingType</con:property>
      <con:property>Orchestration_cruiseType</con:property>
      <con:property>Orchestration_accessibleCabins</con:property>
      <con:property>Orchestration_results</con:property>
      <con:property>Orchestration_pagination</con:property>
      <con:property>Orchestration_Prices</con:property>
      <con:property>Orchestration_guestAge</con:property>
      <con:property>Orchestration_includeDeckInfo</con:property>
      <con:property>Orchestration_accessibleReqd</con:property>
      <con:property>Orchestration_seniorReqd</con:property>
      <con:property>Orchestration_militaryReqd</con:property>
      <con:property>Orchestration_policeReqd</con:property>
      <con:property>Orchestration_fireFighterReqd</con:property>
      <con:property>Orchestration_includeAllStaterooms</con:property>
      <con:property>Orchestration_includeUpsell</con:property>
      <con:property>Orchestration_includePromoContent</con:property>
      <con:property>Orchestration_includeCategory</con:property>
      <con:property>Orchestration_guestCount</con:property>
      <con:property>Orchestration_lockBooking</con:property>
      <con:property>Orchestration_summaryRequested</con:property>
      <con:startRow>1</con:startRow>
      <con:endRow>1</con:endRow>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="CruiseSearch" id="712ed1cf-5b45-4c7d-90a6-f90ac21cb175">
    <con:settings/>
    <con:config service="CruiseSearch" resourcePath="/cruiseSearch?" methodName="CruiseSearch" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="CruiseSearch" id="311d37c2-2066-49ea-aeb4-3adc006be12d" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="AppKey" value="${#Project#AppKey}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>http://eslbservicestst01.rccl.com:13000</con:endpoint>
        <con:request/>
        <con:originalUri>http://eslbservicestst01.rccl.com/esl/search/rest/cruiseSearch</con:originalUri>
        <con:assertion type="XPath Match" id="6625f75e-8bda-4bcd-b5d8-510d3a241fd5" name="Match content of [status]">
          <con:configuration>
            <path>declare namespace ns2='http://www.rccl.com/esl/services/search/v2';
//ns2:CruiseSearchResponse[1]/header[1]/status[1]/text()</path>
            <content>Success</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters>
          <con:entry key="criteria.brand.value" value="${DataSource#Orchestration_brand}"/>
          <con:entry key="header.application" value="${DataSource#application}"/>
          <con:entry key="criteria.channel" value="${DataSource#Orchestration_channel}"/>
          <con:entry key="resultsPreference.includeResults" value="${DataSource#Orchestration_results}"/>
          <con:entry key="criteria.accessibleCabins" value="${DataSource#Orchestration_accessibleCabins}"/>
          <con:entry key="criteria.office" value="${DataSource#Orchestration_office}"/>
          <con:entry key="criteria.currency" value="${DataSource#Orchestration_currencyCode}"/>
          <con:entry key="criteria.ship.value" value="${DataSource#Orchestration_shipCode}"/>
          <con:entry key="header.brand" value="${DataSource#brand}"/>
          <con:entry key="criteria.sailingDate.dateRange.from" value="2023-05-01"/>
          <con:entry key="resultsPreference.includePrices" value="${DataSource#Orchestration_Prices}"/>
          <con:entry key="criteria.bookingType" value="${DataSource#Orchestration_bookingType}"/>
          <con:entry key="resultsPreference.pagination.count" value="${DataSource#Orchestration_pagination}"/>
          <con:entry key="resultsPreference.includeFacets" value="${DataSource#Orchestration_Facets}"/>
          <con:entry key="criteria.country" value="${DataSource#Orchestration_countryCode}"/>
          <con:entry key="criteria.cruiseType.value" value="${DataSource#Orchestration_cruiseType}"/>
          <con:entry key="criteria.sailingDate.dateRange.to" value="2024-05-31"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>header.application</con:entry>
          <con:entry>header.brand</con:entry>
          <con:entry>header.language</con:entry>
          <con:entry>header.domainId</con:entry>
          <con:entry>header.uuid</con:entry>
          <con:entry>criteria.office</con:entry>
          <con:entry>criteria.country</con:entry>
          <con:entry>criteria.currency</con:entry>
          <con:entry>criteria.channel</con:entry>
          <con:entry>criteria.bookingType</con:entry>
          <con:entry>criteria.cruiseType.value</con:entry>
          <con:entry>criteria.brand.value</con:entry>
          <con:entry>criteria.ship.value</con:entry>
          <con:entry>criteria.port.value</con:entry>
          <con:entry>criteria.portOfCall.value</con:entry>
          <con:entry>criteria.tourCity.value</con:entry>
          <con:entry>criteria.region.value</con:entry>
          <con:entry>criteria.duration.value</con:entry>
          <con:entry>criteria.packageId.value</con:entry>
          <con:entry>criteria.marketingPromotionType.value</con:entry>
          <con:entry>criteria.marketingPromotionId.value</con:entry>
          <con:entry>criteria.onboardActivity.value</con:entry>
          <con:entry>criteria.sailingDate.dateRange.from</con:entry>
          <con:entry>criteria.sailingDate.dateRange.to</con:entry>
          <con:entry>criteria.startDate.dateRange.from</con:entry>
          <con:entry>criteria.startDate.dateRange.to</con:entry>
          <con:entry>criteria.occupancy.adult</con:entry>
          <con:entry>criteria.occupancy.child</con:entry>
          <con:entry>criteria.occupancy.infant</con:entry>
          <con:entry>criteria.priceRange.min</con:entry>
          <con:entry>criteria.priceRange.max</con:entry>
          <con:entry>criteria.priceRange.cabinClass</con:entry>
          <con:entry>criteria.accessibleCabins</con:entry>
          <con:entry>qualifiers.priceId.value</con:entry>
          <con:entry>qualifiers.promotionId.value</con:entry>
          <con:entry>qualifiers.promotionType.value</con:entry>
          <con:entry>qualifiers.residentType.promotionType</con:entry>
          <con:entry>qualifiers.residentType.state</con:entry>
          <con:entry>qualifiers.loyaltyType.promotionType</con:entry>
          <con:entry>qualifiers.loyaltyType.loyaltyTier.name</con:entry>
          <con:entry>qualifiers.loyaltyType.loyaltyTier.value</con:entry>
          <con:entry>qualifiers.airType.promotionType</con:entry>
          <con:entry>qualifiers.airType.gateway</con:entry>
          <con:entry>qualifiers.priceScope</con:entry>
          <con:entry>qualifiers.qualifierScope</con:entry>
          <con:entry>qualifiers.searchScope</con:entry>
          <con:entry>resultsPreference.includeFacets</con:entry>
          <con:entry>resultsPreference.includeResults</con:entry>
          <con:entry>resultsPreference.includeOnlyIfPriceAvailable</con:entry>
          <con:entry>resultsPreference.sortBy</con:entry>
          <con:entry>resultsPreference.sortOrder</con:entry>
          <con:entry>resultsPreference.pagination.count</con:entry>
          <con:entry>resultsPreference.pagination.offset</con:entry>
          <con:entry>resultsPreference.strictSearch</con:entry>
          <con:entry>resultsPreference.groupBy</con:entry>
          <con:entry>resultsPreference.guestPricing</con:entry>
          <con:entry>resultsPreference.priceLevel.bestPricedCategory</con:entry>
          <con:entry>resultsPreference.priceLevel.cabinClass</con:entry>
          <con:entry>resultsPreference.bundleComponent.value</con:entry>
          <con:entry>resultsPreference.includePrices</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="fb80c0e8-f76d-47b2-810a-f73b9a8b53f1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="06e8c7b9-d4f6-4961-83f3-2298cdb6d393">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4fedb5bd-4f85-4e65-be0d-10733b6063c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b74aaec9-bc4d-4e5f-ba2c-6dd15abcd7c8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5dd45593-b2c9-4c33-b0b6-646ea95e4f6a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3b590ea9-614d-46ce-9318-e6e9878fde3a">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Fetch_ShipPkgFare-Code_SailDate" id="88c2bf77-44da-4d2c-97db-64d993a97a76" disabled="true">
    <con:settings/>
    <con:config>
      <script>import java.io.*;
import java.util.*;
import com.eviware.soapui.model.testsuite.*;
import com.eviware.soapui.impl.wsdl.teststeps.assertions.*;
def tc = testRunner.testCase.testSuite.testCases["CreateBooking"];

def ts = testRunner.testCase.getTestStepByName("CruiseSearch");
def res = new XmlSlurper().parseText(ts.getPropertyValue("ResponseAsXml"));

def packageCode = res.resultsBySailing.sailingSummaryWithClassLevelPricing[0].sailingRef.@package.text();
testRunner.testCase.setPropertyValue("PackageCode",packageCode);

String shipCode= packageCode.substring(0,2);
testRunner.testCase.setPropertyValue("ShipCode",shipCode);

def sailDate = res.resultsBySailing.sailingSummaryWithClassLevelPricing[0].sailingRef.@saildate.text();
testRunner.testCase.setPropertyValue("SailDate",sailDate);

def id = res.resultsBySailing.sailingSummaryWithClassLevelPricing[0].cabinClassPricing[0].price[0].@priceId.text();
if(id.equals('')){
	def fareCode = res.resultsBySailing.sailingSummaryWithClassLevelPricing[0].cabinClassPricing[0].price[0].promotion.@id.text();
	testRunner.testCase.setPropertyValue("FareCode",fareCode);
 }
else{
	testRunner.testCase.setPropertyValue("FareCode",id);
}</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Copy of Fetch_ShipPkgFare-Code_SailDate" id="a6e73291-a78f-4618-a4ca-8db3ae3bdd33">
    <con:settings/>
    <con:config>
      <script>import java.io.*;
import java.util.*;
import com.eviware.soapui.model.testsuite.*;
import com.eviware.soapui.impl.wsdl.teststeps.assertions.*;
def tc = testRunner.testCase.testSuite.testCases["CreateBooking"];

def ts = testRunner.testCase.getTestStepByName("CruiseSearch");
def res = new XmlSlurper().parseText(ts.getPropertyValue("ResponseAsXml"));

def packageCode = res.resultsBySailing.sailingSummaryWithClassLevelPricing[1].sailingRef.@package.text();
testRunner.testCase.setPropertyValue("PackageCode",packageCode);

String shipCode= packageCode.substring(0,2);
testRunner.testCase.setPropertyValue("ShipCode",shipCode);

def sailDate = res.resultsBySailing.sailingSummaryWithClassLevelPricing[1].sailingRef.@saildate.text();
testRunner.testCase.setPropertyValue("SailDate",sailDate);

def id = res.resultsBySailing.sailingSummaryWithClassLevelPricing[1].cabinClassPricing[1].price[1].@priceId.text();
if(id.equals('')){
	def fareCode = res.resultsBySailing.sailingSummaryWithClassLevelPricing[1].cabinClassPricing[1].price[1].promotion.@id.text();
	testRunner.testCase.setPropertyValue("FareCode",fareCode);
 }
else{
	testRunner.testCase.setPropertyValue("FareCode",id);
}</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="RetrieveStateroomCategories" id="4698a59e-5dce-4c52-94b2-0f004a22431e">
    <con:settings/>
    <con:config service="Booking" resourcePath="/retrieveStateroomCategories" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="RetrieveStateroomCategories" id="3b0b3e64-59dd-4f3c-90fb-b77e895e64f7" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="AppKey" value="${#Project#AppKey}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>http://eslbservicestst01.rccl.com:14000</con:endpoint>
        <con:request/>
        <con:originalUri>http://eslbservicestst01.rccl.com/esl/booking/rest/v3/retrieveStateroomCategories</con:originalUri>
        <con:assertion type="Simple Contains" id="34054df6-38c7-4d90-9206-77579d3a63b8" name="Contains">
          <con:configuration>
            <token>Success</token>
            <ignoreCase>false</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:username xsi:nil="true"/>
          <con:password xsi:nil="true"/>
          <con:domain xsi:nil="true"/>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters>
          <con:entry key="accessibleReqd" value="${DataSource#Orchestration_accessibleReqd}"/>
          <con:entry key="header.application" value="${DataSource#Orchestration_application}"/>
          <con:entry key="policeReqd" value="${DataSource#Orchestration_policeReqd}"/>
          <con:entry key="includeDeckInfo" value="${DataSource#Orchestration_includeDeckInfo}"/>
          <con:entry key="packageId" value="${#TestCase#PackageCode}"/>
          <con:entry key="militaryReqd" value="${DataSource#Orchestration_militaryReqd}"/>
          <con:entry key="includeAllStaterooms" value="${DataSource#Orchestration_includeAllStaterooms}"/>
          <con:entry key="debugId" value=""/>
          <con:entry key="header.brand" value="${DataSource#Orchestration_brand}"/>
          <con:entry key="shipCode" value="${#TestCase#ShipCode}"/>
          <con:entry key="seniorReqd" value="${DataSource#Orchestration_seniorReqd}"/>
          <con:entry key="guestAge" value="${DataSource#Orchestration_guestAge}"/>
          <con:entry key="guestAge[0]" value="${DataSource#Orchestration_guestAge}"/>
          <con:entry key="countryCode" value="${DataSource#Orchestration_countryCode}"/>
          <con:entry key="fareCode" value="BESTRATE"/>
          <con:entry key="fireFighterReqd" value="${DataSource#Orchestration_fireFighterReqd}"/>
          <con:entry key="sailDate" value="${#TestCase#SailDate}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>header.application</con:entry>
          <con:entry>header.brand</con:entry>
          <con:entry>header.domainId</con:entry>
          <con:entry>header.language</con:entry>
          <con:entry>header.uuid</con:entry>
          <con:entry>countryCode</con:entry>
          <con:entry>agencyId</con:entry>
          <con:entry>bookingAccessToken</con:entry>
          <con:entry>bookingId</con:entry>
          <con:entry>shipCode</con:entry>
          <con:entry>sailDate</con:entry>
          <con:entry>packageId</con:entry>
          <con:entry>stateroomType</con:entry>
          <con:entry>currency</con:entry>
          <con:entry>fareCode</con:entry>
          <con:entry>selectedFareCode</con:entry>
          <con:entry>numberOfCabins</con:entry>
          <con:entry>includeDeckInfo</con:entry>
          <con:entry>accessibleReqd</con:entry>
          <con:entry>seniorReqd</con:entry>
          <con:entry>militaryReqd</con:entry>
          <con:entry>policeReqd</con:entry>
          <con:entry>fireFighterReqd</con:entry>
          <con:entry>stateCode</con:entry>
          <con:entry>loyaltyId</con:entry>
          <con:entry>couponCodes</con:entry>
          <con:entry>includeAllStaterooms</con:entry>
          <con:entry>includeUpsell</con:entry>
          <con:entry>guestAge[0]</con:entry>
          <con:entry>includePromoContent</con:entry>
          <con:entry>includeCategory</con:entry>
          <con:entry>debugId</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="fb80c0e8-f76d-47b2-810a-f73b9a8b53f1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="06e8c7b9-d4f6-4961-83f3-2298cdb6d393">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4fedb5bd-4f85-4e65-be0d-10733b6063c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b74aaec9-bc4d-4e5f-ba2c-6dd15abcd7c8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5dd45593-b2c9-4c33-b0b6-646ea95e4f6a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3b590ea9-614d-46ce-9318-e6e9878fde3a">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="FetchCatagoryCode - 6V" id="a7db0ec9-2055-44ee-8af1-dfcc79513e6e" disabled="true">
    <con:settings/>
    <con:config>
      <script>import java.io.*;
import java.util.*;
import com.eviware.soapui.model.testsuite.*;
import com.eviware.soapui.impl.wsdl.teststeps.assertions.*;
def tc = testRunner.testCase.testSuite.testCases["CreateBooking"];

def ts = testRunner.testCase.getTestStepByName("RetrieveStateroomCategories");
def res = new XmlSlurper().parseText(ts.getPropertyValue("ResponseAsXml"));

def categoryCode = res.stateroomCategoryTypes.e[0].categories.e[0].stateroomCategoryCode.text();
testRunner.testCase.setPropertyValue("Category",categoryCode);

def selectedFareCode = res.stateroomCategoryTypes.e[0].categories.e[0].selectedFareCode.text();
testRunner.testCase.setPropertyValue("FareCode",selectedFareCode);

def netPrice = res.stateroomCategoryTypes.e[0].categories.e[1].netPrice.text();
testRunner.testCase.setPropertyValue("TotalPrice",netPrice);</script>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="FetchCatagoryCode - 4V" id="93c4c889-3a93-414a-9017-3883da4d8c4f">
    <con:settings/>
    <con:config>
      <script>import java.io.*;
import java.util.*;
import com.eviware.soapui.model.testsuite.*;
import com.eviware.soapui.impl.wsdl.teststeps.assertions.*;
def tc = testRunner.testCase.testSuite.testCases["CreateBooking"];

def ts = testRunner.testCase.getTestStepByName("RetrieveStateroomCategories");
def res = new XmlSlurper().parseText(ts.getPropertyValue("ResponseAsXml"));

def categoryCode = res.stateroomCategoryTypes.e[0].categories.e[0].stateroomCategoryCode.text();
log.info(categoryCode)
testRunner.testCase.setPropertyValue("Category",categoryCode);

def selectedFareCode = res.stateroomCategoryTypes.e[0].categories.e[0].selectedFareCode.text();
log.info(selectedFareCode)
testRunner.testCase.setPropertyValue("FareCode",selectedFareCode);
/*
def netPrice = res.stateroomCategoryTypes.e[0].categories.e[1].netPrice.text();
testRunner.testCase.setPropertyValue("DISCOUNTED_CRUISE_FARE",netPrice);
*/
def netPrice = res.stateroomCategoryTypes.e[0].categories.e[0].guestPrices.guestPrice.e[0].priceInfos.priceInfo.e[1].amount.text();
testRunner.testCase.setPropertyValue("DISCOUNTED_CRUISE_FARE",netPrice);

def taxPrice = res.stateroomCategoryTypes.e[0].categories.e[0].guestPrices.guestPrice.e[0].priceInfos.priceInfo.e[2].amount.text();
testRunner.testCase.setPropertyValue("TAXES_AND_FEES",taxPrice);</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="RetrieveStateroomsForCategory" id="a78aec39-9c73-4b52-a2c8-c3b482c79415">
    <con:settings/>
    <con:config service="Booking" resourcePath="/retrieveStateroomsForCategory" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="RetrieveStateroomsForCategory" id="c2271e12-b35c-4d4d-99ab-12aa471a0db9" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="AppKey" value="${#Project#AppKey}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>http://eslbservicestst01.rccl.com:14000</con:endpoint>
        <con:request/>
        <con:originalUri>http://eslbservicestst01.rccl.com/esl/booking/rest/v3/retrieveStateroomsForCategory</con:originalUri>
        <con:assertion type="Simple Contains" id="fe0a0def-9263-4c7e-97c6-61655b4b1d0d" name="Contains">
          <con:configuration>
            <token>Success</token>
            <ignoreCase>false</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:username xsi:nil="true"/>
          <con:password xsi:nil="true"/>
          <con:domain xsi:nil="true"/>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters>
          <con:entry key="header.application" value="${DataSource#Orchestration_application}"/>
          <con:entry key="stateroomOccupancy.guestAge" value="${DataSource#Orchestration_guestAge}"/>
          <con:entry key="countryCode" value="${DataSource#Orchestration_countryCode}"/>
          <con:entry key="stateroomOccupancy.seniorReqd" value="${DataSource#Orchestration_seniorReqd}"/>
          <con:entry key="packageId" value="${#TestCase#PackageCode}"/>
          <con:entry key="debugId" value=""/>
          <con:entry key="categoryCode" value="${#TestCase#Category}"/>
          <con:entry key="header.brand" value="${DataSource#Orchestration_brand}"/>
          <con:entry key="sailDate" value="${#TestCase#SailDate}"/>
          <con:entry key="stateroomOccupancy.accessibleReqd" value="${DataSource#Orchestration_accessibleReqd}"/>
          <con:entry key="shipCode" value="${#TestCase#ShipCode}"/>
          <con:entry key="stateroomOccupancy.fareCode" value="${#TestCase#FareCode}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>header.application</con:entry>
          <con:entry>header.brand</con:entry>
          <con:entry>header.domainId</con:entry>
          <con:entry>header.language</con:entry>
          <con:entry>header.uuid</con:entry>
          <con:entry>countryCode</con:entry>
          <con:entry>agencyId</con:entry>
          <con:entry>bookingAccessToken</con:entry>
          <con:entry>shipCode</con:entry>
          <con:entry>sailDate</con:entry>
          <con:entry>packageId</con:entry>
          <con:entry>categoryCode</con:entry>
          <con:entry>currencyCode</con:entry>
          <con:entry>stateroomOccupancy.guestAge</con:entry>
          <con:entry>stateroomOccupancy.fareCode</con:entry>
          <con:entry>stateroomOccupancy.seniorReqd</con:entry>
          <con:entry>stateroomOccupancy.accessibleReqd</con:entry>
          <con:entry>deckCode</con:entry>
          <con:entry>debugId</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="fb80c0e8-f76d-47b2-810a-f73b9a8b53f1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="06e8c7b9-d4f6-4961-83f3-2298cdb6d393">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4fedb5bd-4f85-4e65-be0d-10733b6063c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b74aaec9-bc4d-4e5f-ba2c-6dd15abcd7c8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5dd45593-b2c9-4c33-b0b6-646ea95e4f6a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3b590ea9-614d-46ce-9318-e6e9878fde3a">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="FetchCabinValue" id="ad55b264-d62b-4179-bab0-0cb6e812dbcd">
    <con:settings/>
    <con:config>
      <script>import java.io.*;
import java.util.*;
import com.eviware.soapui.model.testsuite.*;
import com.eviware.soapui.impl.wsdl.teststeps.assertions.*;
def tc = testRunner.testCase.testSuite.testCases["CreateBooking_TestCase"];

def ts = testRunner.testCase.getTestStepByName("RetrieveStateroomsForCategory");
def res = new XmlSlurper().parseText(ts.getPropertyValue("ResponseAsXml"));

def cabinNumber = res.cabin.e[0].cabinNumber.text();
testRunner.testCase.setPropertyValue("CabinNumber",cabinNumber);</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="UpdateStateroomLock" id="67264e5d-8f66-400d-82b4-b1f8761b7de3">
    <con:settings/>
    <con:config service="Booking" resourcePath="/updateStateroomLock" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="UpdateStateroomLock" id="2f932aaa-b326-4cd4-b9dc-1ac157bd6457" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="AppKey" value="${#Project#AppKey}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>http://eslbservicestst01.rccl.com:14000</con:endpoint>
        <con:request>{
    "header": {
        "application": "${DataSource#Orchestration_application}",
        "brand": "${DataSource#Orchestration_brand}"
    },
    "countryCode": "${DataSource#Orchestration_countryCode}",
    "shipCode": "${#TestCase#ShipCode}",
    "sailDate": "${#TestCase#SailDate}",
    "lockStaterooms":{
      "fareCode":"${#TestCase#FareCode}",
      "stateroomCategoryCode":"${#TestCase#Category}",
      "guestCount":"${DataSource#Orchestration_guestCount}",
      "stateroomNumber":["${#TestCase#CabinNumber}"]
    }
}</con:request>
        <con:originalUri>http://eslbservicestst01.rccl.com/esl/booking/rest/v3/updateStateroomLock</con:originalUri>
        <con:assertion type="Simple Contains" id="6b910529-4a02-4c36-b53a-4c3ac0b18d05" name="Contains">
          <con:configuration>
            <token>Success</token>
            <ignoreCase>false</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:username xsi:nil="true"/>
          <con:password xsi:nil="true"/>
          <con:domain xsi:nil="true"/>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters/>
        <con:parameterOrder/>
        <con:environmentSpec>
          <con:entry environmentId="fb80c0e8-f76d-47b2-810a-f73b9a8b53f1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="06e8c7b9-d4f6-4961-83f3-2298cdb6d393">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4fedb5bd-4f85-4e65-be0d-10733b6063c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b74aaec9-bc4d-4e5f-ba2c-6dd15abcd7c8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5dd45593-b2c9-4c33-b0b6-646ea95e4f6a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3b590ea9-614d-46ce-9318-e6e9878fde3a">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="FetchBookingAccessToken" id="87aaaa47-4bfb-434c-8cfb-9aa2a0832e04">
    <con:settings/>
    <con:config>
      <script>import java.io.*;
import java.util.*;
import com.eviware.soapui.model.testsuite.*
import com.eviware.soapui.impl.wsdl.teststeps.assertions.*
def tc = testRunner.testCase.testSuite.testCases["CreateBooking"];

def ts = testRunner.testCase.getTestStepByName("UpdateStateroomLock")
def res = new XmlSlurper().parseText(ts.getPropertyValue("ResponseAsXml"));

def accessToken = res.bookingAccessToken.text();
testRunner.testCase.setPropertyValue("AccessToken",accessToken)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="RetrieveBookingPrice" id="4260b2f5-2247-41da-8294-921641715c7d">
    <con:settings/>
    <con:config service="Booking" resourcePath="/retrieveBookingPrice" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="RetrieveBookingPrice" id="18e9e03c-c858-49d2-bdce-c5c3ee98a884" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="AppKey" value="${#Project#AppKey}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>${#Global#Booking_REST_Endpoint}</con:endpoint>
        <con:request/>
        <con:originalUri>http://eslbservicestst01.rccl.com/esl/booking/rest/v3/retrieveBookingPrice</con:originalUri>
        <con:assertion type="JsonPath Match" id="a2039177-dfeb-40da-99b9-94850c3efca8" name="Match content of [status]">
          <con:configuration>
            <path>$['header']['status']</path>
            <content>Success</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="d634771d-1cc2-4803-b6fb-64ce43b323d0" name="Check for existence of [bookingPrice]">
          <con:configuration>
            <path>$['bookingPrice']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="f42dc25c-956e-4e14-b791-0f9ece4a0a0b" name="Check for existence of [bookingPayment]">
          <con:configuration>
            <path>$['bookingPrice']['bookingPayment']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:username xsi:nil="true"/>
          <con:password xsi:nil="true"/>
          <con:domain xsi:nil="true"/>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.personalInfo.birthDate" value="${DataSource#birthDate}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.address.postalCode" value="${DataSource#postalCode}"/>
          <con:entry key="bookingInfo.cabin.berthedCategoryCode" value="${#TestCase#Category}"/>
          <con:entry key="header.application" value="${DataSource#application}"/>
          <con:entry key="sailingInfo.currencyCode" value="${DataSource#currencyCode}"/>
          <con:entry key="bookingInfo.cabin.pricedCategoryCode" value="${#TestCase#Category}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.telephoneInfo.telephoneNumber" value="${DataSource#telephoneNumber}"/>
          <con:entry key="header.brand" value="${DataSource#brand}"/>
          <con:entry key="sailingInfo.shipCode" value="${#TestCase#ShipCode}"/>
          <con:entry key="bookingInfo.fareQualifiers.seniorReqd" value="${DataSource#seniorReqd}"/>
          <con:entry key="bookingInfo.fareQualifiers.policeReqd" value="${DataSource#policeReqd}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.personalInfo.nationality" value="${DataSource#nationality}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.personalInfo.gender" value="${DataSource#gender}"/>
          <con:entry key="countryCode" value="${DataSource#countryCode}"/>
          <con:entry key="bookingInfo.dining.crossRefAllowed" value="${DataSource#crossRefAllowed}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.address.address1" value="${DataSource#address1}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.personalInfo.name.firstName" value="${DataSource#firstName}"/>
          <con:entry key="bookingInfo.cabin.number" value="${#TestCase#CabinNumber}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.email" value="${DataSource#email}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.address.stateCode" value="${DataSource#stateCode}"/>
          <con:entry key="bookingInfo.cabin.fareCode" value="${DataSource#fareCode}"/>
          <con:entry key="bookingInfo.reservationIdType.lastModifyDateTime" value="2018-11-14T09:41:42Z"/>
          <con:entry key="sailingInfo.sailDate" value="${#TestCase#SailDate}"/>
          <con:entry key="header.language" value="${DataSource#language}"/>
          <con:entry key="bookingInfo.dining.sitting" value="${DataSource#sitting}"/>
          <con:entry key="bookingInfo.dining.sittingType" value="${DataSource#sittingType}"/>
          <con:entry key="bookingInfo.dining.familyTime" value="${DataSource#familyTime}"/>
          <con:entry key="bookingInfo.fareQualifiers.militaryReqd" value="${DataSource#militaryReqd}"/>
          <con:entry key="bookingInfo.cabin.waitListed" value="${DataSource#waitListed}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.address.city" value="${DataSource#city}"/>
          <con:entry key="bookingInfo.dining.sittingInstance" value="${DataSource#sittingInstance}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.address.countryCode" value="${DataSource#countryCode}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.telephoneInfo.telephoneType" value="${DataSource#telephoneType}"/>
          <con:entry key="bookingInfo.reservationIdType.id" value="0"/>
          <con:entry key="bookingInfo.gratuitiesPrepaid" value="${DataSource#gratuitiesPrepaid}"/>
          <con:entry key="header.domainId" value="${DataSource#domainID}"/>
          <con:entry key="sailingInfo.packageCode" value="${#TestCase#PackageCode}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.personalInfo.name.title" value="${DataSource#title}"/>
          <con:entry key="bookingInfo.fareQualifiers.fireFighterReqd" value="${DataSource#fireFighterReqd}"/>
          <con:entry key="bookingInfo.reservationIdType.status" value="${DataSource#status}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.personalInfo.age" value="${DataSource#age}"/>
          <con:entry key="bookingInfo.guestDetails[0].guestContact.personalInfo.name.lastName" value="${DataSource#lastName}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>header.application</con:entry>
          <con:entry>header.brand</con:entry>
          <con:entry>header.domainId</con:entry>
          <con:entry>header.language</con:entry>
          <con:entry>header.uuid</con:entry>
          <con:entry>countryCode</con:entry>
          <con:entry>agencyId</con:entry>
          <con:entry>bookingAccessToken</con:entry>
          <con:entry>sailingInfo.shipCode</con:entry>
          <con:entry>sailingInfo.sailDate</con:entry>
          <con:entry>sailingInfo.packageCode</con:entry>
          <con:entry>sailingInfo.currencyCode</con:entry>
          <con:entry>sailingInfo.vendorCode</con:entry>
          <con:entry>bookingInfo.cabin.berthedCategoryCode</con:entry>
          <con:entry>bookingInfo.cabin.fareCode</con:entry>
          <con:entry>bookingInfo.cabin.pricedCategoryCode</con:entry>
          <con:entry>bookingInfo.cabin.waitListed</con:entry>
          <con:entry>bookingInfo.cabin.accessible</con:entry>
          <con:entry>bookingInfo.cabin.number</con:entry>
          <con:entry>bookingInfo.cabin.bedConfigCode</con:entry>
          <con:entry>bookingInfo.dining.sitting</con:entry>
          <con:entry>bookingInfo.dining.sittingType</con:entry>
          <con:entry>bookingInfo.dining.sittingInstance</con:entry>
          <con:entry>bookingInfo.dining.waitListed</con:entry>
          <con:entry>bookingInfo.dining.familyTime</con:entry>
          <con:entry>bookingInfo.dining.crossRefAllowed</con:entry>
          <con:entry>bookingInfo.dining.language</con:entry>
          <con:entry>bookingInfo.dining.smokingCode</con:entry>
          <con:entry>bookingInfo.dining.tableSize</con:entry>
          <con:entry>bookingInfo.gratuitiesPrepaid</con:entry>
          <con:entry>bookingInfo.insurance.optionIndicator</con:entry>
          <con:entry>bookingInfo.insurance.defaultIndicator</con:entry>
          <con:entry>bookingInfo.insurance.status</con:entry>
          <con:entry>bookingInfo.offers</con:entry>
          <con:entry>bookingInfo.fareQualifiers.seniorReqd</con:entry>
          <con:entry>bookingInfo.fareQualifiers.militaryReqd</con:entry>
          <con:entry>bookingInfo.fareQualifiers.policeReqd</con:entry>
          <con:entry>bookingInfo.fareQualifiers.fireFighterReqd</con:entry>
          <con:entry>bookingInfo.reservationIdType.id</con:entry>
          <con:entry>bookingInfo.reservationIdType.lastModifyDateTime</con:entry>
          <con:entry>bookingInfo.reservationIdType.status</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.guestRefNumber</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.name.title</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.name.firstName</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.name.lastName</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.name.middleName</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.name.nameSuffix</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.age</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.birthDate</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.gender</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.personalInfo.nationality</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.telephoneInfo.id</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.telephoneInfo.telephoneNumber</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.telephoneInfo.telephoneCountryCode</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.telephoneInfo.telephoneType</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.id</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.type</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.address1</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.address2</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.address3</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.address4</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.apartment</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.city</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.stateCode</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.postalCode</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.countryCode</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.countryName</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.address.mailingAddress</con:entry>
          <con:entry>bookingInfo.guestDetails[0].guestContact.email</con:entry>
          <con:entry>bookingInfo.guestDetails[0].loyaltyId</con:entry>
          <con:entry>bookingId</con:entry>
          <con:entry>shipCode</con:entry>
          <con:entry>sailDate</con:entry>
          <con:entry>includePenaltySchedule</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="PropertyTransfer 3" id="9746ca13-d809-457e-885c-4e565e18e2f4">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" ignoreEmpty="false" transferToAll="false" transferChildNodes="false">
        <con:name>amount</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>RetrieveBookingPrice</con:sourceStep>
        <con:sourcePath>$['bookingPrice']['bookingPayment']['guestPrices']['guestPrice'][0]['priceInfos']['priceInfo'][0]['amount']</con:sourcePath>
        <con:targetType>grossAmount</con:targetType>
        <con:targetStep>Properties_Booking</con:targetStep>
        <con:targetPath/>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Copy of Groovy Script - divide by 2" id="ebbaed36-73bb-4ff7-b9ed-dc3c7560077d">
    <con:settings/>
    <con:config>
      <script>import java.io.*;
import java.util.*;
import java.math.*;

//double ga = context.expand( '${Properties_Booking#grossAmount}' );

def g = context.expand('${Properties_Booking#grossAmount}');
log.info(g);

BigDecimal amount = new BigDecimal(g);
BigDecimal byTwo = new BigDecimal("2");
String result = amount.divide(byTwo, RoundingMode.HALF_UP).toString();
System.out.println(result);
testRunner.testCase.setPropertyValue("grossAmount",result);</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="CreateBooking _ with Multiple CC" id="3656d8e4-6591-4d95-83dc-568d947f730c">
    <con:settings/>
    <con:config service="Booking" resourcePath="/createBooking" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="CreateBooking _ with Multiple CC" id="11440270-6113-4dbd-ae45-70a60fb5f6e0" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="AppKey" value="${#Project#AppKey}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>${#Global#Booking_REST_Endpoint}</con:endpoint>
        <con:request>{
    "header": {
      "application": "${DataSource#application}",
      "brand": "${DataSource#brand}",
      "domainId": "${DataSource#domainID}",
      "language": "${DataSource#language}"
    },
    "countryCode": "${DataSource#countryCode}",
    "bookingAccessToken":"${#TestCase#AccessToken}",
    "sailingInfo": {
    	"shipCode":"${#TestCase#ShipCode}",
    	"sailDate":"${#TestCase#SailDate}",
    	"packageCode":"${#TestCase#PackageCode}",
    	"currencyCode":"${DataSource#currencyCode}"
    	},
    "reservations": [{
      "cabin": {
      	"berthedCategoryCode":"${#TestCase#Category}",
      	"fareCode":"${#TestCase#FareCode}",
      	"pricedCategoryCode":"${#TestCase#Category}",
      	"waitListed":"${DataSource#waitListed}",
      	"accessible":"${DataSource#accessible}",
      	"number":"${#TestCase#CabinNumber}"
      },
      "dining": [{
        "sitting": "${DataSource#sitting}",
         "sittingType":"${DataSource#sittingType}",
         "sittingInstance":"${DataSource#sittingInstance}"
      }],
      "gratuitiesPrepaid": "${DataSource#gratuitiesPrepaid}",
      "insurance": {
      	"code": "CRCR",
      	"optionIndicator": "false"
      },
	 "fareQualifiers": {
	 	"seniorReqd":"${DataSource#seniorReqd}",
	 	"militaryReqd":"${DataSource#militaryReqd}",
	 	"policeReqd":"${DataSource#policeReqd}",
	 	"fireFighterReqd":"${DataSource#fireFighterReqd}"
	 	},
	 "guestDetails": [{
	 	"guestContact": {
	 		"personalInfo": {
	 			"name": {
	 				"title":"${DataSource#title}",
	 				"firstName":"${DataSource#firstName}",
	 				"lastName":"${DataSource#lastName}"
	 				},
	 			"age":"${DataSource#age}",
	 			"birthDate":"${DataSource#birthDate}",
	 			"gender":"${DataSource#gender}",
	 			"nationality":"${DataSource#nationality}"
	 		},
	 		"address": {
	 			"address1":"${DataSource#address1}",
	 			"city":"${DataSource#city}",
	 			"stateCode":"${DataSource#stateCode}",
	 			"postalCode":"${DataSource#postalCode}",
	 			"countryName":"${DataSource#countryName}"
	 			},
	 		"email": "${DataSource#email}"
	 	}
	 }], 
	 "listOfCardPayments": {
        	"cardPayment": [{
        		"cardType": "${DataSource#cardType}",
        		"cardToken": "${DataSource#cardToken}",
        		"expireDate": "${DataSource#expireDate}",
        		"amount": "${#TestCase#grossAmount}",
        		"currency": "${DataSource#currency}",
        		"extendPayments": "${DataSource#extendPayments}",
        		"contact": {
        			"firstName": "${DataSource#card firstName}",
        			"lastName": "${DataSource#card lastName}",
        			"address": {
        				"address1": "${DataSource#card address1}",
        				"city": "${DataSource#card city}",
        				"stateCode": "${DataSource#card stateCode}",
        				"postalCode": "${DataSource#card postalCode}",
        				"countryCode": "${DataSource#card countryCode}",
        				"countryName": "${DataSource#card countryName}"
        			}
        		}
        	},
        	{
        		"cardType": "${DataSource#cardType2}",
        		"cardToken": "${DataSource#cardToken2}",
        		"expireDate": "${DataSource#expireDate2}",
        		"amount": "${#TestCase#grossAmount}",
        		"currency": "${DataSource#currency2}",
        		"extendPayments": "${DataSource#extendPayments}",
        		"contact": {
        			"firstName": "${DataSource#card firstName}",
        			"lastName": "${DataSource#card lastName}",
        			"address": {
        				"address1": "${DataSource#card address1}",
        				"city": "${DataSource#card city}",
        				"stateCode": "${DataSource#card stateCode}",
        				"postalCode": "${DataSource#card postalCode}",
        				"countryCode": "${DataSource#card countryCode}",
        				"countryName": "${DataSource#card countryName}"
        			}
        		}
        	}]        	
        }
    }],
    "courtesyHold": "${DataSource#courtesyHold}"
  }</con:request>
        <con:originalUri>https://stg1-int.api.rccl.com/esl/booking/stg1/rest/v3/createBooking</con:originalUri>
        <con:assertion type="JsonPath Match" id="4c43f8bb-ec3c-422f-9af3-0d4910714a1d" name="Match content of [status]">
          <con:configuration>
            <path>$['header']['status']</path>
            <content>Success</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="28fa1bbc-29ec-476d-b303-67d9e016e0cf" name="Check for existence of [bookingId]">
          <con:configuration>
            <path>$['bookingConfirmation']['bookingId']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="86d834d5-95c3-4775-b4d0-e346afa63f82" name="Match content of [amount]" disabled="true">
          <con:configuration>
            <path>$['bookingConfirmation']['paymentResult'][0]['amount']</path>
            <content>${DataSource#amount}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="55ff729f-fe15-48a8-9482-c8c961a23639" name="Match content of [amount]" disabled="true">
          <con:configuration>
            <path>$['bookingConfirmation']['paymentResult'][1]['amount']</path>
            <content>${DataSource#amount2}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:username xsi:nil="true"/>
          <con:password xsi:nil="true"/>
          <con:domain xsi:nil="true"/>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="fb80c0e8-f76d-47b2-810a-f73b9a8b53f1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="06e8c7b9-d4f6-4961-83f3-2298cdb6d393">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4fedb5bd-4f85-4e65-be0d-10733b6063c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b74aaec9-bc4d-4e5f-ba2c-6dd15abcd7c8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5dd45593-b2c9-4c33-b0b6-646ea95e4f6a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3b590ea9-614d-46ce-9318-e6e9878fde3a">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="PropertyTransfer 1" id="aeadcea8-7177-4809-83ae-447633116700">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>bookingAccessToken</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>CreateBooking _ with Multiple CC</con:sourceStep>
        <con:sourcePath>$['bookingAccessToken']</con:sourcePath>
        <con:targetType>bookingAccessToken</con:targetType>
        <con:targetStep>Properties_Booking</con:targetStep>
        <con:targetPath/>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" transferChildNodes="false" ignoreEmpty="false" entitize="false">
        <con:name>bookingId</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>CreateBooking _ with Multiple CC</con:sourceStep>
        <con:sourcePath>$['bookingConfirmation']['bookingId']</con:sourcePath>
        <con:targetType>bookingId</con:targetType>
        <con:targetStep>Properties_Booking</con:targetStep>
        <con:targetPath/>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay" id="40337246-a405-4e86-b91c-d742f23ef9c8">
    <con:settings/>
    <con:config>
      <delay>2000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="retrieveBooking" id="20bf4f1c-1d79-409a-bcaf-51106785eff2">
    <con:settings/>
    <con:config service="Booking" resourcePath="/retrieveBooking" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="retrieveBooking" id="f61292d7-a3d7-4c9c-a450-ddf89edb6e6e" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="AppKey" value="${#Project#AppKey}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>${#Global#Booking_REST_Endpoint}</con:endpoint>
        <con:request><![CDATA[https://tst1-int.api.rccl.com/esl/booking/tst2/rest/v3/retrieveBooking?header.application=royalcaribbean.com&header.brand=R&header.language=en_US&header.domainId=1&countryCode=USA&bookingId=1388791&lastName=Cruise&sailDate=2024-04-14&shipCode=AN&lockBooking=true&summaryRequested=true]]></con:request>
        <con:originalUri>http://eslbservicestst01.rccl.com/esl/booking/rest/v3/retrieveBooking</con:originalUri>
        <con:assertion type="Invalid HTTP Status Codes" id="81278942-ada3-4e6c-92cd-568abe5e3d3f" name="Invalid HTTP Status Codes">
          <con:configuration>
            <codes>500</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="c52a0579-96a6-45be-b716-d390c76951ce" name="Match content of [status]">
          <con:configuration>
            <path>$['header']['status']</path>
            <content>Success</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="1d510def-0bb3-4ddc-aaae-a9f5fbeae5da" name="Match content of [bookingId]">
          <con:configuration>
            <path>$['booking']['bookingInformation']['bookingId']</path>
            <content>${Properties_Booking#bookingId}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="GroovyScriptAssertion" id="a4b09854-0005-48fb-acea-afc4bc1efdb6" name="Script Assertion">
          <con:configuration>
            <scriptText>import java.io.*;
import java.util.*;
import com.eviware.soapui.impl.support.http.HttpRequestTestStep

def rawRequest = new String(messageExchange.getRawRequestData(), "UTF-8")
def rawrequest1 = rawRequest.indexOf("GET")+4;
def rawrequest2 = rawRequest.indexOf("HTTP")
def url = rawRequest.substring(rawrequest1,rawrequest2)

messageExchange.modelItem.testStep.setPropertyValue("Request", url)</scriptText>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:username xsi:nil="true"/>
          <con:password xsi:nil="true"/>
          <con:domain xsi:nil="true"/>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters>
          <con:entry key="lastName" value="${DataSource#lastName}"/>
          <con:entry key="header.language" value="${DataSource#language}"/>
          <con:entry key="header.application" value="${DataSource#application}"/>
          <con:entry key="lockBooking" value="true"/>
          <con:entry key="countryCode" value="${DataSource#countryCode}"/>
          <con:entry key="header.domainId" value="${DataSource#domainId}"/>
          <con:entry key="summaryRequested" value="true"/>
          <con:entry key="header.brand" value="${DataSource#brand}"/>
          <con:entry key="sailDate" value="${#TestCase#SailDate}"/>
          <con:entry key="bookingId" value="${Properties_Booking#bookingId}"/>
          <con:entry key="header.uuid" value="${DataSource#uuid}"/>
          <con:entry key="shipCode" value="${#TestCase#ShipCode}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="fb80c0e8-f76d-47b2-810a-f73b9a8b53f1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="06e8c7b9-d4f6-4961-83f3-2298cdb6d393">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4fedb5bd-4f85-4e65-be0d-10733b6063c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b74aaec9-bc4d-4e5f-ba2c-6dd15abcd7c8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5dd45593-b2c9-4c33-b0b6-646ea95e4f6a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3b590ea9-614d-46ce-9318-e6e9878fde3a">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="PropertyTransfer 2" id="2deb5155-bd75-46e0-ab9a-7b1396beecee">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" transferChildNodes="false" ignoreEmpty="false">
        <con:name>bookingAccessToken</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>retrieveBooking</con:sourceStep>
        <con:sourcePath>$['bookingAccessToken']</con:sourcePath>
        <con:targetType>AccessTokenFromRetrieve</con:targetType>
        <con:targetStep>Properties_Booking</con:targetStep>
        <con:targetPath/>
        <con:type>JSONPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="CancelBooking" id="97861ec5-3511-47cd-9b14-774ff6a3a3be">
    <con:settings/>
    <con:config service="Booking" resourcePath="/cancelBooking" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="CancelBooking" id="9f45ed06-dd67-4b55-8aea-d680a645878a" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="AppKey" value="${#Project#AppKey}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>${#Global#Booking_REST_Endpoint}</con:endpoint>
        <con:request>{
   "header":{
      "application":"${DataSource#application}",
      "brand":"${DataSource#brand}",
      "domainId":"${DataSource#domainID}",
      "language":"${DataSource#language}"
   },
   "countryCode":"${DataSource#countryCode}",
   "bookingAccessToken":"${Properties_Booking#AccessTokenFromRetrieve}",
   "bookingId":"${Properties_Booking#bookingId}",
   "lastName":"${DataSource#lastName}",
   "sailDate":"${#TestCase#SailDate}",
   "shipCode":"${#TestCase#ShipCode}",
   "lockBooking":"true"
}</con:request>
        <con:originalUri>https://stg1-int.api.rccl.com/esl/booking/stg1/rest/v3/cancelBooking</con:originalUri>
        <con:assertion type="JsonPath Match" id="fbae2e71-e9c3-458b-98e9-90c30f0734d4" name="Match content of [status]">
          <con:configuration>
            <path>$['header']['status']</path>
            <content>Success</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="fb80c0e8-f76d-47b2-810a-f73b9a8b53f1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="06e8c7b9-d4f6-4961-83f3-2298cdb6d393">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4fedb5bd-4f85-4e65-be0d-10733b6063c9">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b74aaec9-bc4d-4e5f-ba2c-6dd15abcd7c8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="5dd45593-b2c9-4c33-b0b6-646ea95e4f6a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3b590ea9-614d-46ce-9318-e6e9878fde3a">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="9769cf66-3dc7-417d-b35d-bdc829b21b3f">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="3433f470-471b-4dc0-8c2d-f9d3f0ca5530">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="81c7102b-60ec-4137-958d-7d4e6b6d2904">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="755bdcf9-70a8-4132-844d-e5cd8d24e80c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="47074864-6f72-4d97-bae4-21c8ed49aa75">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="b90fdab2-9475-4f32-8f02-297fa386bc5c">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="30e190d4-5cca-4b41-a9d3-1723c6ff34d4">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="361d8992-6d1c-42db-abc6-a3db88088a91">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="4ffc1287-e3e9-4aba-aa44-a81cbddd261a">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="DataSource Loop" id="858777a5-799b-46a9-b938-85fb4bd62072">
    <con:settings/>
    <con:config>
      <dataSourceStep>DataSource</dataSourceStep>
      <targetStep>CruiseSearch</targetStep>
      <discardResults>false</discardResults>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>PackageCode</con:name>
      <con:value>AN7BH097</con:value>
    </con:property>
    <con:property>
      <con:name>DISCOUNTED_CRUISE_FARE</con:name>
      <con:value>2662.0</con:value>
    </con:property>
    <con:property>
      <con:name>TAXES_AND_FEES</con:name>
      <con:value>175.75</con:value>
    </con:property>
    <con:property>
      <con:name>ShipCode</con:name>
      <con:value>AN</con:value>
    </con:property>
    <con:property>
      <con:name>SailDate</con:name>
      <con:value>2024-04-14</con:value>
    </con:property>
    <con:property>
      <con:name>FareCode</con:name>
      <con:value>I1791362</con:value>
    </con:property>
    <con:property>
      <con:name>Category</con:name>
      <con:value>4U</con:value>
    </con:property>
    <con:property>
      <con:name>CabinNumber</con:name>
      <con:value>9317</con:value>
    </con:property>
    <con:property>
      <con:name>AccessToken</con:name>
      <con:value>1a8aef45-9a0d-4c44-bd38-6fba01dd45b7</con:value>
    </con:property>
    <con:property>
      <con:name>Request</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>Response</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>grossAmount</con:name>
      <con:value>1418.88</con:value>
    </con:property>
    <con:property>
      <con:name>TotalPrice</con:name>
      <con:value>7242.00</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>77cadc0b-0633-4cef-9070-7f02dba07058</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e4c5f9ab-af4d-40c9-937e-13d4aa680a78</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9b824a94-117e-4ab0-a452-88cff9fec4af</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>206da2e8-fd15-4e51-a0b1-14f15f9020a9</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>57155be8-4a77-4de6-9096-ded9752d78ad</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>59985c86-5275-4025-928e-4d210f6d0921</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9e506c37-b33e-43f7-90d4-540efcbfacfb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f349e65e-8b4f-4824-a3ff-76ebed5e999a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0b0a027f-d882-45a1-9b94-ccfd7dff9b15</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f3df2d4e-877c-4ed0-bf8d-281495b6c821</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>aa4aff55-41d1-41db-a69b-f52592dd7a22</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3749e2a0-b058-47bf-99b0-c0a2b8350d17</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>642de0dc-afbb-42e4-be1c-b880b666bfb4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>4071bbee-a61a-4c09-9990-4cb91465e2b9</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bf240bbc-ac28-4552-bea8-bed7b8b238ea</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d9dfbe16-e697-4dad-bd0c-069f5a1b51ce</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bf1a78c2-eb61-45e4-9e11-c7d603826b1f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>092cad8c-cebf-46aa-bd51-6856bbb8099f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f48a3327-1263-4cdd-8cc3-5834efd59e3a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5b6aa933-97d6-4a23-a91d-346c619a1747</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bdd292b8-04e6-4305-b68c-500ae9b93119</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d05854f8-da11-4160-a145-8e8d30560f15</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>eebf6a2b-3bca-453e-a61e-d7cfbbc840ff</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>984ed9dc-e081-42d6-af77-57255b83ea20</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9a3647e2-f8da-4072-a135-2bce67524173</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5f7a70d5-4b3b-45f7-b647-663b20857ddb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>83c16915-4798-4d4e-a086-70fc6807d0d4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3e8cec35-9dd1-4c4f-b9cc-fec9895ee5c5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>8a88bc94-b59d-457a-8943-e890ab9b9ddd</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>c16fb9dc-cede-4ed8-8a7f-64fbe59cbbcb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bf109ad3-f938-46ed-8c77-6ca92141a143</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e010be51-e9ab-47d3-a20f-7b931d5157e4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>c320be4d-b483-438e-976b-cc6678705ec5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1be82fbb-0d13-4e44-b339-f1c2da4bddae</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1f0dd7ba-6bbd-4b1c-a296-d16f85f3f348</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f949fc75-9c03-4afe-9d02-fb9ed6eaf1c0</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cc3795b1-5b5f-446a-9a5e-f3b5a77a649a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b5ff1b6c-8934-474b-8009-aabb06968fbc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>744c0299-c473-4e01-b7ff-48a44af57ed5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9ea0167f-7cd8-4f69-9cab-94fafd1e0661</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>aa633638-640e-41ed-8f93-3542fae97d33</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="e9f1a65b-4cfb-49eb-9648-17b964263aaa">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="c1902c11-a110-41be-99af-2b99f9e32999">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="ac2f4353-8937-4131-9561-81caa1ce4137">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="e9f6be74-e526-4177-b615-b37faca1bc1d">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="4a244377-97c4-42cb-8d76-1c120c9b55bc">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="cad42243-bff7-4afe-88b5-9f6b0d5ebaf8">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="69b6678e-ed0c-4a3b-b650-2f8ff7c44805">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="b6cbdb90-605a-493d-89b5-6b50b23545e3">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
    <con:entry environmentId="8d7e2fe6-930c-4811-a337-39862d60df43">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
